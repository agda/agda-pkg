# agda-pkg v0.1 [![Build Status](https://travis-ci.org/apkgbot/agda-pkg.svg?branch=master)](https://travis-ci.org/apkgbot/agda-pkg)

The next package manager for Agda. This will bring the most common features
of other package manager to the Agda proof-assistant.
We hope this help to increase people working on Agda.


## Installation

At the moment, the only way to use this tool is by downloading this repository:

```

  $ git clone https://github.com/jonaprieto/agda-pkg.git
  $ cd agda-pkg
  $ pip install .
```

After running the instructions above, you will be able to run from the console
`agda-pkg` or even shorter `apkg` command.

- Clean directories generated by this tool

```
$ apkg clean
``` 

- Initializate the index of packages

```
$ apkg init
```

- Upgrade the package index 

```
$ apkg upgrade
```

- Installing a local package

```
$ apkg install 
```

or 

```
$ apkg install .
```

- Uninstalling a packagess

```
$ apkg uninstall nameLibrary 
```

- Search for packages (Approximate search)

```
$ apkg search termPackage
```


- Information of a package installed or present in the index:

```
$ apkg info exactNamePackage
```

- Show the packages installed with their respective version

```
$ apkg freeze
```

- Show the version of this tool

```
$ apkg help
``` 

## Disclaimer

This is the effort of the contributors in their free time.
There is no guarantee of any kind. If you feel you can help or find
a bug, let us know by openning an issue. It's very welcomed.

A similar project was [a version in Haskell](https://github.com/jonaprieto/agda-pkg),
for personal reasons, we choose Python for its flexibility.

## TODO

- [ ] Offer the chance to generate pkg file and normal files
- [ ] Improve help messages
- [ ] Index the main libraries, maybe from Agda wiki
- [ ] Specify the version of agda to install packages
- [ ] Update command
- [ ] Have .apkg-project to set up the defaults libraries for the current agda session.
- [ ] [Test](https://docs.python.org/3/library/unittest.html) for all the commands and combinations of common actions
- [ ] Split the install command in index/local/urls/gits
- [ ] Install from a url:
  - Create a temporal directory
  - Download the url with url request in it
  - Install as a local package 
- [ ] Install from the git repositories with version as tag (commit)
  - Create a temporal directory
  - Download the url with url request in it
  - Install as a local package
  - Mark the package as git repository 
- [ ] Install from the git repositories using info from the index
  - Check the index, the file url
  - Check the version to exists (git tag..)
  - Install as a git repository
  - git checkout on the package source with the tag or commit
  
- [ ] Read relevant environment variables like AGDA_DIR
- [x] Travis at least on OSX
- [ ] Pip package 
- [ ] Show info to open issues when an error happens
- [ ] Comment in the Agda mail-listings
- [ ] Doctor command for problems
- [ ] Info command to show stats of the index package

 




