agda-pkg |Build Status|
=======================

The next package manager for Agda. This will bring the most common
features of other package manager to the Agda proof-assistant. We hope
this help to increase people working on Agda.

Installation
------------

At the moment, the only way to use this tool is by downloading this
repository:

:literal:``\`` $ git clone https://github.com/jonaprieto/agda-pkg.git $
cd agda-pkg $ pip install .\ ``\ \``

After running the instructions above, you will be able to run from the
console agda-pkg or even shorter apkg command.

-  Clean directories generated by this tool

:literal:``\`` $ apkg clean\ ``\ \``

-  Initializate the index of packages

:literal:``\`` $ apkg init\ ``\ \``

-  Upgrade the package index

:literal:``\`` $ apkg upgrade\ ``\ \``

-  Installing a local package

:literal:``\`` $ apkg install\ ``\ \``

or

:literal:``\`` $ apkg install .\ ``\ \``

-  Uninstalling a packagess

:literal:``\`` $ apkg uninstall nameLibrary\ ``\ \``

-  Search for packages (Approximate search)

:literal:``\`` $ apkg search termPackage\ ``\ \``

-  Information of a package installed or present in the index:

:literal:``\`` $ apkg info exactNamePackage\ ``\ \``

-  Show the packages installed with their respective version

:literal:``\`` $ apkg freeze\ ``\ \``

-  Show the version of this tool

:literal:``\`` $ apkg help\ ``\ \``

Disclaimer
----------

This is the effort of the contributors in their free time. There is no
guarantee of any kind. If you feel you can help or find a bug, let us
know by openning an issue. Itâ€™s very welcomed.

TODO
----

-  [ ] Offer the chance to generate pkg file and normal files
-  [ ] Improve help messages
-  [ ] Index the main libraries, maybe from Agda wiki
-  [x] Specify the version of agda to install packages
-  [ ] Update command
-  [ ] install dependencies if the user approves that.
-  [ ] Have .apkg-project to set up the defaults libraries for the
   current agda session.
-  [ ] `Test <https://docs.python.org/3/library/unittest.html>`__ for
   all the commands and combinations of common actions
-  [ ] Split the install command in index/local/urls/gits
-  [x] Install from the git repositories with version as tag (commit)

   -  [X] Create a temporal directory
   -  [X] Install as a local package
   -  [x] Mark the package as git repository

-  [x] Install from the git repositories using info from the index

   -  [X] Check the index, the file url
   -  [X] Check the version to exists (git tag..)
   -  [X] Install as a git repository
   -  [X] git checkout on the package source with the tag or commit

-  [ ] Install from a url:

   -  Create a temporal directory
   -  Download the url with url request in it
   -  Install as a local package

-  [ ] Read relevant environment variables like AGDA_DIR
-  [x] Travis at least on OSX
-  [x] Pip package
-  [ ] Show info to open issues when an error happens

.. |Build Status| image:: https://travis-ci.org/apkgbot/agda-pkg.svg?branch=master
   :target: https://travis-ci.org/apkgbot/agda-pkg
